import {
  Meta,
  Title,
  Primary,
  Controls,
  Stories,
  Source,
  Unstyled,
} from "@storybook/addon-docs/blocks";

<Meta isTemplate title="How to use Notification" />

<Title />
適用 : 基本跳出視窗及通知，分為四種類型(toast、modal、popover及msg)。

<Primary />

# Controls
由於 Notification 元件的使用方式較特殊，是以呼叫的方法來決定類型，提供操作的`type`請視為實際使用場景要呼叫的方法；而 Method's parameter 則是呼叫時可以控制的設定，其餘內部屬性請參考 **properties 內部屬性**區塊。

<Controls />

---

# Usage API

Notification 元件和其他元件不同，不需要`new`初始化，用法為直接呼叫對應類型的靜態方法，並帶入參數 `trigger`及`options`即可。

```javascript
  Notification.modal(trigger,options);
  //直接呼叫對應方法
```  

<p className="sb-unstyled font-bold text-yellow-500">Quick reference</p>

<div className="sb-unstyled table-container overflow-hidden">
  <table className="sb-unstyled table-content">
    <thead>
      <tr className="text-center">
        <td>methods</td><td>descriptions</td>
      </tr>
    </thead>
    <tbody>
      <tr><td>`.toast(options)`</td><td>呼叫一個toast類型通知視窗</td></tr>
      <tr><td>`.modal(options)`</td><td>呼叫一個modal類型通知視窗</td></tr>
      <tr><td>`.popover(options)`</td><td>呼叫一個popover類型通知視窗</td></tr>
      <tr><td>`.msg(options)`</td><td>呼叫一般msg類型通知視窗</td></tr>
    </tbody>
  </table>
</div>

- <span className="sb-unstyled font-black">通知視窗類型說明，分為四種表現: </span>

   - [**toast**](#ToastMsg)  
     讓使用者知道/提醒目前操作或是狀態，一般表現為在視窗某位置(通常為四個角落)跳出，並持續一段時間後消失。
      <div className="sb-unstyled note-msg my-3">
        <span>toast類型特色</span>
        <p>toast應該要由一個主容器包覆所有toast-item，且item要依照順序堆疊出現(FIFO)</p>
      </div>  
      <br/>
   - [**modal**](#ModalMsg)  
     適合需要中斷使用者操作的情況，用於提供關鍵資訊或要求做出決定。對話框在出現時會禁用其他功能，並一直保留在屏幕上，直到確認、關閉或採取所需的操作(背景遮罩為不可關閉的設定、且一定要做決定，所以沒有右上的關閉功能)。  
      <div className="sb-unstyled note-msg my-3">
        <span>Page、Modal比較</span>
        <p>Modal為必須中斷使用者操作的UI類型，而Page(inherit Flowbite Drawer)則是不強制中斷(可以設定是否出現遮罩)；但兩者都可以設定使用者關閉行為:是否點擊任一處關閉。</p>
      </div>  
      <br/>
   - [**popover**](#PopoverMsg)  
     視覺呈現類似tooltip，不同的是可以控制觸發行為。
   - [**msg**](#DefaultMsg)  
     簡單提示訊息，會在指定時間(預設5秒)後自動消失。
  <br />

> ### parameters 參數設定

- <span className="sb-unstyled font-black">trigger</span>
  <span className="sb-unstyled data-type element">HTMLElement</span>

  傳入HTMLElement作為觸發元素，控制Notification出現與否。
    ```html
    <!-- 基本靜態結構 -->
    <label class="label input-label">
      <input type="checkbox" class="checkbox" />
      文字內容
    </label>
    ```   
  <br/>

- <span className="sb-unstyled font-black">options</span>
  <span className="sb-unstyled data-type">object</span>  
  各屬性的型別及說明可參考上方**Controls區塊**，各類別的私有屬性則可以參考**子類別**區塊的各個說明，此處僅列出共同設定的屬性。
    ```javascript
      const options = {
        type: "msg",                       //類型
        theme: "light",                    //主題色
        maxWidth: "auto",                  //最大尺寸
        area: ["auto", "auto"],            //尺寸
        icon:"notice",                     //icon圖標，用做主要分類
        msgContent: null,                  //主要文字內容
        customContent: null,               //自定義HTML內容
        msgTitle: null,                    //title文字
        classes: [],                       //自定義class
        placement:"center",                //位置
        confirm:["確認", function(){}],    //確認按鈕文字&callback
        cancel:["取消", function(){}],     //取消按鈕文字&callback
        handler:null,
      };
    ```  
  <br />
---  
# BaseMsg 類別  

<div className="sb-unstyled alert-msg">只負責建構UI資料基礎，相關對應行為由子類別內部負責。</div>  
- **properties 屬性**  

    <div className="sb-unstyled table-container overflow-hidden">
      <table className="sb-unstyled table-content">
        <thead>
          <tr className="text-center">
            <td>property</td>
            <td>default</td>
            <td>type</td>
            <td>descriptions</td>
            <td>inherits</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td className="font-bold">UItype</td>
            <td>BaseMsg</td>
            <td>string</td>
            <td>繼承自`BaseComponent`的屬性，代表該元件名稱</td>
            <td>`BaseComponent`</td>
          </tr>
          <tr>
            <td className="font-bold">theme</td>
            <td>light</td>
            <td>string</td>
            <td>主題設定，分為light/daark兩色系</td>
            <td>`BaseComponent`</td>
          </tr>
          <tr>
            <td className="font-bold">options</td>
            <td>-</td>
            <td>object</td>
            <td>相關設定內容，由Notification的`options`參數傳入</td>
          </tr>
        </tbody>
      </table>
    </div>
<br/>  
---  

# 子類別  
<div className="sb-unstyled alert-msg">不會直接操作，僅列出參考用</div>  
<br/>

><span id="ToastMsg">ToastMsg 類別</span>  
<span>作為容器並負責管理`ToastItem`</span>
- **properties 屬性**  

    <div className="sb-unstyled table-container overflow-hidden">
      <table className="sb-unstyled table-content">
        <thead>
          <tr className="text-center">
            <td>property</td>
            <td>default</td>
            <td>type</td>
            <td>descriptions</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td className="font-bold">trigger</td>
            <td>-</td>
            <td>HTMLElement</td>
            <td>觸發元素</td>
          </tr>
          <tr>
            <td className="font-bold">toastContainer</td>
            <td>`<div></div>`</td>
            <td>HTMLElement</td>
            <td>容器元素節點</td>
          </tr>
          <tr>
            <td className="font-bold">options</td>
            <td>-</td>
            <td>object</td>
            <td>設定值，由參數`options`傳入，並往下傳遞至`ToastItem`</td>
          </tr>
          <tr>
            <td className="font-bold">toastItems</td>
            <td>[]</td>
            <td>array</td>
            <td>
              儲存所有子訊息(ToastItem)
            </td>
          </tr>
          <tr>
            <td className="font-bold">id</td>
            <td>-</td>
            <td>string</td>
            <td>
              容器id，會用來儲存同一批子訊息
            </td>
          </tr>
        </tbody>
      </table>
    </div>
<br/>
- **options 參數可設定的私有屬性**  
  - `style` toast樣式，可分為 bordered | accent | default
<br/>
---
><h3 id="ToastItem">ToastItem 類別</h3>

- **properties 屬性**  

    <div className="sb-unstyled table-container overflow-hidden">
      <table className="sb-unstyled table-content">
        <thead>
          <tr className="text-center">
            <td>property</td>
            <td>default</td>
            <td>type</td>
            <td>descriptions</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td className="font-bold">UItype</td>
            <td>ToastItem</td>
            <td>string</td>
            <td>繼承自`BaseComponent`的屬性，代表該元件名稱</td>
          </tr>
          <tr>
            <td className="font-bold">style</td>
            <td>accent</td>
            <td>string</td>
            <td>toast版型，可以選擇bordered|accent|default</td>
          </tr>
          <tr>
            <td className="font-bold">dismiss</td>
            <td>`Dissmiss` object</td>
            <td>object</td>
            <td><span className="sb-unstyled data-type inherits">related to flowbite <a href="https://flowbite.com/docs/components/toast/" className="linkout">Dismiss</a></span></td>
          </tr>
        </tbody>
      </table>
    </div>
<br/>

---
><h3 id="ModalMsg">ModalMsg 類別</h3>
- **properties 屬性**  

    <div className="sb-unstyled table-container overflow-hidden">
      <table className="sb-unstyled table-content">
        <thead>
          <tr className="text-center">
            <td>property</td>
            <td>default</td>
            <td>type</td>
            <td>descriptions</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td className="font-bold">UItype</td>
            <td>ModalMsg</td>
            <td>string</td>
            <td>繼承自`BaseComponent`的屬性，代表該元件名稱</td>
          </tr>
          <tr>
            <td className="font-bold">modal</td>
            <td>flowbite `Modal`物件</td>
            <td>object</td>
            <td><span className="sb-unstyled data-type inherits">related to flowbite <a href="https://flowbite.com/docs/components/modal/" className="linkout">Modal</a></span></td>
          </tr>
        </tbody>
      </table>
    </div>
<br/>
- **options 參數可設定的私有屬性**  
  - `backdrop` 遮罩類型，可分為static|dynamic，是否可以點擊螢幕任一處關閉
  - `backdropClasses` 遮罩classes
  - `closable` 是否可以點擊鍵盤`esc`鍵關閉modal
---
><h3 id="PopoverMsg">PopoverMsg 類別</h3>

- **properties 屬性**  

    <div className="sb-unstyled table-container overflow-hidden">
      <table className="sb-unstyled table-content">
        <thead>
          <tr className="text-center">
            <td>property</td>
            <td>default</td>
            <td>type</td>
            <td>descriptions</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td className="font-bold">UItype</td>
            <td>PopoverMsg</td>
            <td>string</td>
            <td>繼承自`BaseComponent`的屬性，代表該元件名稱</td>
          </tr>
          <tr>
            <td className="font-bold">popover</td>
            <td>flowbite `Popover`物件</td>
            <td>object</td>
            <td><span className="sb-unstyled data-type inherits">related to flowbite <a href="https://flowbite.com/docs/components/popover/" className="linkout">Popover</a></span></td>
          </tr>
        </tbody>
      </table>
    </div>
<br/>  

- **options 參數可設定的私有屬性**  
  - `triggerType` 觸發動作類型，可以選擇hover|click|none
  - `offset` 距離triggerElem的距離

---
><h3 id="DefaultMsg">DefaultMsg 類別</h3>

- **properties 屬性**  

    <div className="sb-unstyled table-container overflow-hidden">
      <table className="sb-unstyled table-content">
        <thead>
          <tr className="text-center">
            <td>property</td>
            <td>default</td>
            <td>type</td>
            <td>descriptions</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td className="font-bold">UItype</td>
            <td>DefaultMsg</td>
            <td>string</td>
            <td>繼承自`BaseComponent`的屬性，代表該元件名稱</td>
          </tr>
        </tbody>
      </table>
    </div>  
- **options 參數可設定的私有屬性**  
  - `countdown` 倒數消失毫秒數(ms)